(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},119:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(30),r=a.n(c),o=(a(112),a(113),a(23)),s=a(15),i=a(195),l=a(200),d=a(207),u=a(90),j="WRITE_WEATHER",b="FETCH_GET_WEATHER",p="WRITE_CITY",O="WRITE_UNIT",h="WRITE_ERROR",m="TOGGLE_WEATHER_LOADER",y="FETCH_GET_WEATHER_BY_LOCATION",x=a(26),f=a(197),w=a(2),g=Object(f.a)({root:{background:"white",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",borderRadius:5,padding:"0 30px"}}),v=function(){var e=Object(x.b)(),t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],r=a[1],j=g();return Object(w.jsx)(i.a,{autoHighlight:!0,onChange:function(e,t){return r(t)},id:"component-filled",options:u,getOptionLabel:function(e){return e.name},style:{width:"80%"},renderInput:function(t){return Object(w.jsxs)("div",{className:"city-search",children:[Object(w.jsx)(l.a,Object(o.a)(Object(o.a)({required:!0},t),{},{label:"City",autoFocus:!0,autoComplete:"Bishkek",className:j.root})),Object(w.jsx)(d.a,{className:"city-search__submit",onClick:function(){return e({type:p,payload:c})},children:Object(w.jsx)("i",{className:"fas fa-check"})})]})}})},k=a(201),N=a(202),_=a(196),G=a(199),K=Object(f.a)({root:{background:"white",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",borderRadius:5}}),E=function(){var e=K(),t=Object(x.b)(),a=Object(x.c)((function(e){return e.weatherReducer.unit}));return Object(w.jsxs)(k.a,{children:[Object(w.jsx)(N.a,{id:"demo-simple-select-label",children:"Unit"}),Object(w.jsxs)(_.a,{className:e.root,labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:a,onChange:function(e){return t({type:O,payload:e.target.value})},children:[Object(w.jsx)(G.a,{value:"metric",children:"C"}),Object(w.jsx)(G.a,{value:"imperial",children:"F"})]})]})},S=(a(119),function(){return Object(w.jsxs)("div",{className:"lds-ring",children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})}),R=function(){var e=Object(x.c)((function(e){return e.weatherReducer})),t=e.weather,a=e.isLoading;return t?Object(w.jsxs)("div",{className:"weather-card",children:[Object(w.jsx)("span",{className:"weather-card__title",children:"Current Weather"}),Object(w.jsxs)("div",{className:"weather__wrapper",children:[Object(w.jsxs)("div",{className:"weather-main",children:[Object(w.jsx)("span",{className:"weather__city",children:t.name}),Object(w.jsxs)("span",{className:"weather__temp",children:[Object(w.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:""}),Object(w.jsxs)("span",{children:[t.main.temp.toFixed(0),Object(w.jsx)("sup",{children:"o"})]})]}),Object(w.jsx)("span",{className:"weather__type",children:t.weather[0].description})]}),Object(w.jsxs)("div",{className:"weather-detail",children:[Object(w.jsxs)("span",{className:"weather__feels-like",children:["Feels like ",t.main.feels_like.toFixed(0),Object(w.jsx)("sup",{children:"o"})]}),Object(w.jsxs)("span",{className:"weather__humidity",children:[Object(w.jsx)("i",{className:"fas fa-tint",style:{color:"#0E7AF6"}}),"humidity: ",t.main.humidity]}),Object(w.jsxs)("span",{className:"weather__wind",children:[Object(w.jsx)("i",{className:"fas fa-wind"}),"Wind: ",t.wind.speed,"kph"]}),Object(w.jsxs)("span",{className:"weather__pressure",children:[Object(w.jsx)("i",{className:"fas fa-compass"}),"pressure: ",t.main.pressure,"hPa"]})]})]})]}):a?Object(w.jsx)(S,{}):Object(w.jsx)("p",{className:"no-weather",children:"Select city"})};var I=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.weatherReducer})),a=t.city,c=t.unit,r=t.error;return Object(n.useEffect)((function(){r&&alert(r)}),[r]),Object(n.useEffect)((function(){a&&e({type:b,payload:{city:a,unit:c}})}),[a,c]),Object(n.useEffect)((function(){localStorage.getItem("weather")||localStorage.getItem("city")?(e({type:j,payload:JSON.parse(localStorage.getItem("weather"))}),e({type:p,payload:JSON.parse(localStorage.getItem("city"))})):e({type:y})}),[]),Object(w.jsxs)("div",{className:"App container",children:[Object(w.jsxs)("div",{className:"weather-manager",children:[Object(w.jsx)(v,{}),Object(w.jsx)(E,{})]}),Object(w.jsx)(R,{})]})},A=a(40),T={isLoading:!1,city:"",weather:null,unit:"metric",error:""},B=function(e){return{type:m,payload:e}},C=Object(A.b)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),{},{city:t.payload});case O:return Object(o.a)(Object(o.a)({},e),{},{unit:t.payload});case j:return Object(o.a)(Object(o.a)({},e),{},{weather:t.payload});case h:return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case m:return Object(o.a)(Object(o.a)({},e),{},{isLoading:t.payload});default:return e}}}),W=a(35),J=a.n(W),F=a(37),L=a(27),H=a(93),U=a.n(H).a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather"}),P=function(e,t){return U.get("?id=".concat(e.id,"&units=").concat(t,"&appid=3f2cc87855f165391f51364aaa5010dd"))},Y=function(e){return U.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e.latitude,",").concat(e.longitude,"&key=AIzaSyBwVdwyclpU1vi99NNBrwZ6MQP2s9eUOSY"))},z=J.a.mark(M),q=J.a.mark(Q),D=J.a.mark(V);function M(e){var t,a;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(L.a)(B(!0));case 4:return n.next=6,Object(F.b)(P,t.city,t.unit);case 6:return a=n.sent,n.next=9,Object(L.a)({type:j,payload:a.data});case 9:return n.next=11,localStorage.setItem("weather",JSON.stringify(a.data));case 11:return n.next=13,localStorage.setItem("city",JSON.stringify(t.city));case 13:return n.next=15,Object(L.a)(B(!1));case 15:n.next=23;break;case 17:return n.prev=17,n.t0=n.catch(1),n.next=21,Object(L.a)({type:h,payload:JSON.stringify(n.t0.response)});case 21:return n.next=23,Object(L.a)(B(!1));case 23:case"end":return n.stop()}}),z,null,[[1,17]])}function Q(){var e,t;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(L.a)(B(!0));case 3:return e=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){return e({longitude:t.coords.longitude,latitude:t.coords.latitude})}),(function(e){return t(e)}))}))},a.next=6,Object(F.b)(e);case 6:return t=a.sent,console.log(t),a.next=10,Object(F.b)(Y,t);case 10:return a.sent,a.next=13,Object(L.a)(B(!1));case 13:a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(L.a)({type:h,payload:JSON.stringify(a.t0.response)});case 19:return a.next=21,Object(L.a)(B(!1));case 21:case"end":return a.stop()}}),q,null,[[0,15]])}function V(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)(b,M);case 2:return e.next=4,Object(L.b)(y,Q);case 4:case"end":return e.stop()}}),D)}var Z=J.a.mark(X);function X(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.c)(V)]);case 2:case"end":return e.stop()}}),Z)}var $=a(94),ee=Object($.a)(),te=Object(A.d)(C,Object(A.c)(Object(A.a)(ee)));ee.run(X),r.a.render(Object(w.jsx)(x.a,{store:te,children:Object(w.jsx)(I,{})}),document.getElementById("root"))},90:function(e){e.exports=JSON.parse('[{"id":1528253,"name":"Ivanovo-Alekseyevka","state":"","country":"KG","coord":{"lon":72.209038,"lat":42.547619}},{"id":1528260,"name":"Issyk-Kul Region","state":"","country":"KG","coord":{"lon":78,"lat":42}},{"id":1528320,"name":"Gul\u2019cha","state":"","country":"KG","coord":{"lon":73.444183,"lat":40.313801}},{"id":1528334,"name":"Gorod Bishkek","state":"","country":"KG","coord":{"lon":74.600258,"lat":42.895859}},{"id":1528336,"name":"Kadamjay","state":"","country":"KG","coord":{"lon":71.73333,"lat":40.116669}},{"id":1528512,"name":"Cholpon-Ata","state":"","country":"KG","coord":{"lon":77.082253,"lat":42.649441}},{"id":1528566,"name":"Chayek","state":"","country":"KG","coord":{"lon":74.516991,"lat":41.927681}},{"id":1528606,"name":"Kemin","state":"","country":"KG","coord":{"lon":75.689171,"lat":42.78458}},{"id":1528646,"name":"Bosteri","state":"","country":"KG","coord":{"lon":77.185883,"lat":42.660061}},{"id":1528666,"name":"Bokombayevskoye","state":"","country":"KG","coord":{"lon":76.993317,"lat":42.11768}},{"id":1528675,"name":"Bishkek","state":"","country":"KG","coord":{"lon":74.589996,"lat":42.869999}},{"id":1528702,"name":"Belovodskoye","state":"","country":"KG","coord":{"lon":74.108299,"lat":42.829441}},{"id":1528717,"name":"Bazar-Korgon","state":"","country":"KG","coord":{"lon":72.745857,"lat":41.037601}},{"id":1528735,"name":"Batken","state":"","country":"KG","coord":{"lon":70.819389,"lat":40.062592}},{"id":1528766,"name":"Baetovo","state":"","country":"KG","coord":{"lon":74.956978,"lat":41.266682}},{"id":1528796,"name":"At-Bashi","state":"","country":"KG","coord":{"lon":75.810577,"lat":41.17017}},{"id":1528831,"name":"Aravan","state":"","country":"KG","coord":{"lon":72.499603,"lat":40.516079}},{"id":1528856,"name":"Alga","state":"","country":"KG","coord":{"lon":71.466667,"lat":40.23333}},{"id":1528875,"name":"Ala-Buka","state":"","country":"KG","coord":{"lon":71.486282,"lat":41.4105}},{"id":1528913,"name":"Ak-S\xebok","state":"","country":"KG","coord":{"lon":74.166672,"lat":43.01667}},{"id":1528919,"name":"Ak-Shor","state":"","country":"KG","coord":{"lon":72.209633,"lat":40.44574}},{"id":1528947,"name":"Ak-Chiy","state":"","country":"KG","coord":{"lon":74.844009,"lat":41.22546}}]')}},[[139,1,2]]]);
//# sourceMappingURL=main.52e6dba6.chunk.js.map